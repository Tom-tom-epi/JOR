{"ast":null,"code":"import _classCallCheck from\"/var/www/html/JOR/test_react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/var/www/html/JOR/test_react/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/var/www/html/JOR/test_react/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/var/www/html/JOR/test_react/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import axios from'axios';import Description from'./description';import $ from'jquery';// import '../scripts/script';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GroupActif=/*#__PURE__*/function(_React$Component){_inherits(GroupActif,_React$Component);var _super=_createSuper(GroupActif);function GroupActif(props){var _this;_classCallCheck(this,GroupActif);_this=_super.call(this,props);_this.handlerGroup=function(){_this.setState({updateGroupForStats:!_this.state.updateGroupForStats});};_this.getUsers=function(){var listUsers=[];for(var i=0;i<_this.state.users.length;i++){listUsers.push(_this.state.users[i]);}// console.log(this.state.users);\nreturn listUsers;};_this.handleClick=function(id){if($(\"#card_user_\"+id).hasClass(\"no_clic\")){return false;}else{if(id!==_this.state.id_desc&&_this.state.displayDesc===false){$(\".selected\").removeClass(\"selected\");$(\"#card_user_\"+id).addClass(\"selected\");_this.setState({id_desc:id});_this.setState({displayDesc:!_this.state.displayDesc});}else if(id!==_this.state.id_desc){$(\".selected\").removeClass(\"selected\");$(\"#card_user_\"+id).addClass(\"selected\");_this.setState({id_desc:id});}else{$(\".selected\").removeClass(\"selected\");_this.setState({id_desc:0});_this.setState({displayDesc:!_this.state.displayDesc});}}};_this.upTurn=function(){//test\n// var btn_up_turn = document.getElementsByClassName(\"upTurn\");\nvar card_char=document.getElementsByClassName('char_card');var listPosition=[];var id_party=_this.props.id_party;// console.log(card_char);\n// var count = 0;\n// $(btn_up_turn).on('click', function() {\n// console.log(\"clicked\");\n// count++;\n// console.log(count);\nvar nbrCard=card_char.length;for(var i=0;i<nbrCard;i++){var order=$($(card_char)[i]).css(\"order\");var id_player=$($(card_char)[i]).attr(\"data-id\");// console.log(i);\nif(order==0){$($(card_char)[i]).css(\"order\",nbrCard-1);listPosition[i]=[id_player,nbrCard-1];}else{console.log(order);$($(card_char)[i]).css(\"order\",parseInt(order)-1);listPosition[i]=[id_player,parseInt(order)-1];}}var json=JSON.stringify(listPosition);axios.defaults.xsrfCookieName='csrftoken';axios.defaults.xsrfHeaderName='X-CSRFToken';axios.post(\"https://ce-soir-c-est-jor.com:8000/api/users/updatePosition/\"+json+\"/\"+id_party).then(function(res){// console.log(res);\n// throw new Error(\"Script disactivated\");\n// return false;\n});// })\n};_this.clickArrowLeft=function(id_player){// alert(this.props.id_party);\nvar card_char=document.getElementsByClassName('char_card');var nbrCard=card_char.length;var listPosition=[];var id_party=_this.props.id_party;var position=$(\"#card_user_\"+id_player).css('order');if(position==0){for(var i=0;i<nbrCard;i++){var order=$($(card_char)[i]).css(\"order\");var _id_player=$($(card_char)[i]).attr(\"data-id\");if(order==0){$($(card_char)[i]).css(\"order\",nbrCard-1);listPosition[i]=[_id_player,nbrCard-1];}else{$($(card_char)[i]).css(\"order\",parseInt(order)-1);listPosition[i]=[_id_player,parseInt(order)-1];}}var json=JSON.stringify(listPosition);axios.defaults.xsrfCookieName='csrftoken';axios.defaults.xsrfHeaderName='X-CSRFToken';axios.post(\"https://ce-soir-c-est-jor.com:8000/api/users/updatePosition/\"+json+\"/\"+id_party).then(function(res){// console.log(res);\n});}else{for(var _i=0;_i<nbrCard;_i++){var _order=$($(card_char)[_i]).css(\"order\");var _id_player2=$($(card_char)[_i]).attr(\"data-id\");if(_order==parseInt(position)-1){$($(card_char)[_i]).css(\"order\",parseInt(_order)+1);listPosition[_i]=[_id_player2,parseInt(_order)+1];}else if(_order==parseInt(position)){$($(card_char)[_i]).css(\"order\",parseInt(_order)-1);listPosition[_i]=[_id_player2,parseInt(_order)-1];}else{listPosition[_i]=[_id_player2,parseInt(_order)];}}setTimeout(function(){var json=JSON.stringify(listPosition);axios.defaults.xsrfCookieName='csrftoken';axios.defaults.xsrfHeaderName='X-CSRFToken';axios.post(\"https://ce-soir-c-est-jor.com:8000/api/users/updatePosition/\"+json+\"/\"+id_party).then(function(res){// console.log(res);\n});},1100);}};_this.clickArrowRight=function(id_player){var card_char=document.getElementsByClassName('char_card');var nbrCard=card_char.length;var listPosition=[];var id_party=_this.props.id_party;var position=$(\"#card_user_\"+id_player).css('order');if(position==nbrCard-1){for(var i=0;i<nbrCard;i++){var order=$($(card_char)[i]).css(\"order\");var _id_player3=$($(card_char)[i]).attr(\"data-id\");if(order==nbrCard-1){$($(card_char)[i]).css(\"order\",0);listPosition[i]=[_id_player3,0];}else{$($(card_char)[i]).css(\"order\",parseInt(order)+1);listPosition[i]=[_id_player3,parseInt(order)+1];}}var json=JSON.stringify(listPosition);axios.defaults.xsrfCookieName='csrftoken';axios.defaults.xsrfHeaderName='X-CSRFToken';axios.post(\"https://ce-soir-c-est-jor.com:8000/api/users/updatePosition/\"+json+\"/\"+id_party).then(function(res){// console.log(res);\n});}else{for(var _i2=0;_i2<nbrCard;_i2++){var _order2=$($(card_char)[_i2]).css(\"order\");var _id_player4=$($(card_char)[_i2]).attr(\"data-id\");if(_order2==parseInt(position)+1){// console.log(position);\n// console.log(order);\n// console.log($(card_char)[i]);\n$($(card_char)[_i2]).css(\"order\",parseInt(_order2)-1);listPosition[_i2]=[_id_player4,parseInt(_order2)-1];}else if(_order2==parseInt(position)){$($(card_char)[_i2]).css(\"order\",parseInt(_order2)+1);listPosition[_i2]=[_id_player4,parseInt(_order2)+1];}else{listPosition[_i2]=[_id_player4,parseInt(_order2)];}}var _json=JSON.stringify(listPosition);// console.log(json);\naxios.defaults.xsrfCookieName='csrftoken';axios.defaults.xsrfHeaderName='X-CSRFToken';axios.post(\"https://ce-soir-c-est-jor.com:8000/api/users/updatePosition/\"+_json+\"/\"+id_party).then(function(res){// console.log(res);\n});}};_this.hoverArrow=function(id_player){$(\"#card_user_\"+id_player).addClass('no_clic');var arrowLeft=document.getElementsByClassName('arrow_left');var arrowRight=document.getElementsByClassName('arrow_right');$(arrowLeft).on('mouseleave',function(){$(\"#card_user_\"+id_player).removeClass('no_clic');});$(arrowRight).on('mouseleave',function(){$(\"#card_user_\"+id_player).removeClass('no_clic');});};_this.testFunction=function(){console.log(_this.props.id_party);};_this.state={users:[],displayDesc:false,id_desc:0,updateGroup:true,updateGroupForStats:true,script:null};// console.log(this.props.id_party);\nreturn _this;}// Get the change from child description and statsForm, then update\n_createClass(GroupActif,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState,snapshot){var _this2=this;// Update the component if parent state is updated\nif(this.props.updateGroup!==prevProps.updateGroup||this.state.updateGroupForStats!==prevState.updateGroupForStats){console.log(\"Updated !!\");axios.defaults.xsrfCookieName='csrftoken';axios.defaults.xsrfHeaderName='X-CSRFToken';axios.get(\"https://ce-soir-c-est-jor.com:8000/api/users/active\"+\"/\"+this.props.id_party).then(function(res){var result=Object.values(res.data);_this2.setState({users:result});});}console.log(\"updated\");// this.getScripts();\n}},{key:\"componentDidMount\",value:// componentDidUpdate(prevProps, prevState, snapshot) {\n//     // Update the component if parent state is updated\n//     if(this.props.updateGroup !== prevProps.updateGroup || \n//       this.state.updateGroupForStats !== prevState.updateGroupForStats) {\n//       console.log(\"Updated !!\");\n//       axios.defaults.xsrfCookieName = 'csrftoken';\n//       axios.defaults.xsrfHeaderName = 'X-CSRFToken';\n//       axios.get(`https://ce-soir-c-est-jor.com:8000/api/users/active` + \"/\" + this.props.id_party)\n//       .then(res => {\n//           let result = Object.values(res.data);\n//           this.setState({ users: result });\n//       })\n//     }\n//     console.log(\"updated\");\n//     this.getScripts();\n// }\nfunction componentDidMount(){var _this3=this;axios.defaults.xsrfCookieName='csrftoken';axios.defaults.xsrfHeaderName='X-CSRFToken';axios.get(\"https://ce-soir-c-est-jor.com:8000/api/users/active\"+\"/\"+this.props.id_party).then(function(res){var result=Object.values(res.data);// console.log(result);\n_this3.setState({users:result});});console.log(\"mounted\");// this.getScripts();\n}},{key:\"render\",value:function render(){var _this4=this;var users=this.getUsers();return/*#__PURE__*/_jsxs(\"div\",{className:\"groupActif\",children:[users.map(function(user,i){return/*#__PURE__*/_jsxs(\"div\",{id:\"card_user_\"+user.id_player,className:\"char_card\",style:{\"order\":i},\"data-id\":user.id_player,onClick:_this4.handleClick.bind(_this4.handleClick,user.id_player),children:[/*#__PURE__*/_jsx(\"div\",{onClick:_this4.clickArrowLeft.bind(_this4.clickArrowLeft,user.id_player),onMouseEnter:_this4.hoverArrow.bind(_this4.hoverArrow,user.id_player),className:\"arrow_left\",children:\"\\u2190\"}),/*#__PURE__*/_jsx(\"div\",{onClick:_this4.clickArrowRight.bind(_this4.clickArrowRight,user.id_player),onMouseEnter:_this4.hoverArrow.bind(_this4.hoverArrow,user.id_player),className:\"arrow_right\",children:\"\\u2192\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card_box_img\",children:/*#__PURE__*/_jsx(\"img\",{src:require(\"../assets/img/\"+user.Race+\".jpeg\"),alt:\"../assets/img/\"+user.Race+\".jpeg\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"char_name\",children:user.Nom}),/*#__PURE__*/_jsxs(\"div\",{className:\"char_box_stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"char_health\",children:[user.health,\"/\",user.maxHealth,/*#__PURE__*/_jsx(\"span\",{style:{\"width\":user.health*100/user.maxHealth+\"%\"},className:\"bg_health\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"char_mana\",children:[user.mana,\"/\",user.maxMana,/*#__PURE__*/_jsx(\"span\",{style:{\"width\":user.mana*100/user.maxMana+\"%\"},className:\"bg_mana\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"char_box_caract\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"char_physic\",children:user.Physique}),/*#__PURE__*/_jsx(\"div\",{className:\"char_mental\",children:user.Mental}),/*#__PURE__*/_jsx(\"div\",{className:\"char_social\",children:user.Social})]})]},i);}),users.length>0?/*#__PURE__*/_jsx(\"button\",{onClick:this.upTurn,style:{\"order\":users.length},className:\"upTurn\",children:/*#__PURE__*/_jsx(\"span\",{children:\"\\u2190\"})}):/*#__PURE__*/_jsx(\"p\",{className:\"empty_group\",children:\"Empty\"}),this.state.displayDesc?/*#__PURE__*/_jsx(Description,{displayDesc:this.state.displayDesc,id_desc:this.state.id_desc,users:this.state.users,handlerGroup:this.handlerGroup,id_party:this.props.id_party}):null]});}}]);return GroupActif;}(React.Component);export default GroupActif;","map":{"version":3,"sources":["/var/www/html/JOR/test_react/src/components/groupActif.js"],"names":["React","axios","Description","$","GroupActif","props","handlerGroup","setState","updateGroupForStats","state","getUsers","listUsers","i","users","length","push","handleClick","id","hasClass","id_desc","displayDesc","removeClass","addClass","upTurn","card_char","document","getElementsByClassName","listPosition","id_party","nbrCard","order","css","id_player","attr","console","log","parseInt","json","JSON","stringify","defaults","xsrfCookieName","xsrfHeaderName","post","then","res","clickArrowLeft","position","setTimeout","clickArrowRight","hoverArrow","arrowLeft","arrowRight","on","testFunction","updateGroup","script","prevProps","prevState","snapshot","get","result","Object","values","data","map","user","bind","require","Race","Nom","health","maxHealth","mana","maxMana","Physique","Mental","Social","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Description from './description';\nimport $ from 'jquery';\n// import '../scripts/script';\nclass GroupActif extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        users: [],\n        displayDesc: false,\n        id_desc: 0, \n        updateGroup: true,\n        updateGroupForStats: true,\n        script: null\n    };\n    // console.log(this.props.id_party);\n  }\n\n  // Get the change from child description and statsForm, then update\n  handlerGroup = () => {\n    this.setState({ updateGroupForStats: !this.state.updateGroupForStats });\n  }\n\n  getUsers = () => {\n    var listUsers = [];\n    for(let i = 0; i < this.state.users.length; i++) {\n     listUsers.push(this.state.users[i]);\n    }\n    // console.log(this.state.users);\n    return (\n      listUsers\n    )\n  };\n\n  handleClick = (id) => {\n    if($(\"#card_user_\" + id).hasClass(\"no_clic\")) {\n      return false;\n    }else {\n      if(id !== this.state.id_desc && this.state.displayDesc === false) {\n        $(\".selected\").removeClass(\"selected\");\n        $(\"#card_user_\" + id).addClass(\"selected\");\n        this.setState({ id_desc: id });\n        this.setState({ displayDesc: !this.state.displayDesc });\n      }else if(id !== this.state.id_desc) {\n        $(\".selected\").removeClass(\"selected\");\n        $(\"#card_user_\" + id).addClass(\"selected\");\n        this.setState({ id_desc: id });\n      }else {\n        $(\".selected\").removeClass(\"selected\");\n        this.setState({ id_desc: 0 });\n        this.setState({ displayDesc: !this.state.displayDesc });\n      }\n    }\n  };\n\n  upTurn = () => {\n    //test\n    // var btn_up_turn = document.getElementsByClassName(\"upTurn\");\n    var card_char = document.getElementsByClassName('char_card');\n    var listPosition = [];\n    var id_party = this.props.id_party;\n    // console.log(card_char);\n    // var count = 0;\n    // $(btn_up_turn).on('click', function() {\n      // console.log(\"clicked\");\n      // count++;\n      // console.log(count);\n      var nbrCard = card_char.length; \n      for(let i = 0; i < nbrCard; i++) {\n        let order = $($(card_char)[i]).css(\"order\");\n        let id_player = $($(card_char)[i]).attr(\"data-id\");\n        // console.log(i);\n        \n        if(order == 0) {\n          $($(card_char)[i]).css(\"order\", nbrCard - 1);\n          listPosition[i] = [id_player, nbrCard - 1];\n        }else {\n          console.log(order);\n          $($(card_char)[i]).css(\"order\", (parseInt(order) - 1));\n          listPosition[i] = [id_player, (parseInt(order) - 1)];\n        } \n      }\n\n      let json = JSON.stringify(listPosition);\n        axios.defaults.xsrfCookieName = 'csrftoken';\n        axios.defaults.xsrfHeaderName = 'X-CSRFToken';\n\n        axios.post(`https://ce-soir-c-est-jor.com:8000/api/users/updatePosition/` + json + \"/\" + id_party)\n        .then(res => {\n            // console.log(res);\n            // throw new Error(\"Script disactivated\");\n            // return false;\n        })\n    // })\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n\n    // Update the component if parent state is updated\n    if(this.props.updateGroup !== prevProps.updateGroup || \n      this.state.updateGroupForStats !== prevState.updateGroupForStats) {\n      console.log(\"Updated !!\");\n      axios.defaults.xsrfCookieName = 'csrftoken';\n      axios.defaults.xsrfHeaderName = 'X-CSRFToken';\n\n      axios.get(`https://ce-soir-c-est-jor.com:8000/api/users/active` + \"/\" + this.props.id_party)\n      .then(res => {\n          let result = Object.values(res.data);\n          this.setState({ users: result });\n      })\n    }\n    console.log(\"updated\");\n    // this.getScripts();\n  }\n\n  clickArrowLeft = (id_player) => {\n    // alert(this.props.id_party);\n    var card_char = document.getElementsByClassName('char_card');\n    var nbrCard = card_char.length; \n    var listPosition = [];\n    var id_party = this.props.id_party;\n    \n      let position = $(\"#card_user_\"+id_player).css('order');\n      if(position == 0) {\n        for(let i = 0; i < nbrCard; i++) {\n          let order = $($(card_char)[i]).css(\"order\");\n          let id_player = $($(card_char)[i]).attr(\"data-id\");\n          \n          if(order == 0) {\n            $($(card_char)[i]).css(\"order\", nbrCard - 1);\n            listPosition[i] = [id_player, nbrCard - 1];\n          }else {\n            $($(card_char)[i]).css(\"order\", (parseInt(order) - 1));\n            listPosition[i] = [id_player, (parseInt(order) - 1)];\n          }\n        }\n  \n          let json = JSON.stringify(listPosition);\n          axios.defaults.xsrfCookieName = 'csrftoken';\n          axios.defaults.xsrfHeaderName = 'X-CSRFToken';\n  \n          axios.post(`https://ce-soir-c-est-jor.com:8000/api/users/updatePosition/` + json + \"/\" + id_party)\n          .then(res => {\n              // console.log(res);\n          })\n      }else {\n        \n        for(let i = 0; i < nbrCard; i++) {\n          let order = $($(card_char)[i]).css(\"order\");\n          let id_player = $($(card_char)[i]).attr(\"data-id\");\n          if(order == (parseInt(position) - 1)) {\n            $($(card_char)[i]).css(\"order\", (parseInt(order) + 1));\n            listPosition[i] = [id_player, parseInt(order) + 1];\n          }else if(order == parseInt(position)){\n            $($(card_char)[i]).css(\"order\", (parseInt(order) - 1));\n            listPosition[i] = [id_player, parseInt(order) - 1];\n          }else {\n            listPosition[i] = [id_player, parseInt(order)];\n          }\n        }\n        setTimeout(function() {\n          let json = JSON.stringify(listPosition);\n          axios.defaults.xsrfCookieName = 'csrftoken';\n          axios.defaults.xsrfHeaderName = 'X-CSRFToken';\n  \n          axios.post(`https://ce-soir-c-est-jor.com:8000/api/users/updatePosition/` + json + \"/\" + id_party)\n          .then(res => {\n              // console.log(res);\n          })\n        }, 1100);\n        \n      }\n    \n  }\n  clickArrowRight = (id_player) => {\n    var card_char = document.getElementsByClassName('char_card');\n    var nbrCard = card_char.length; \n    var listPosition = [];\n    var id_party = this.props.id_party;\n\n      let position = $(\"#card_user_\"+id_player).css('order');\n      if(position == (nbrCard - 1)) {\n        for(let i = 0; i < nbrCard; i++) {\n          let order = $($(card_char)[i]).css(\"order\");\n          let id_player = $($(card_char)[i]).attr(\"data-id\");\n          \n          if(order == (nbrCard - 1)) {\n            $($(card_char)[i]).css(\"order\", 0);\n            listPosition[i] = [id_player, 0];\n          }else {\n            $($(card_char)[i]).css(\"order\", (parseInt(order) + 1));\n            listPosition[i] = [id_player, (parseInt(order) + 1)];\n          }\n        }\n  \n          let json = JSON.stringify(listPosition);\n          axios.defaults.xsrfCookieName = 'csrftoken';\n          axios.defaults.xsrfHeaderName = 'X-CSRFToken';\n  \n          axios.post(`https://ce-soir-c-est-jor.com:8000/api/users/updatePosition/` + json + \"/\" + id_party)\n          .then(res => {\n              // console.log(res);\n          })\n      }else {\n        \n        for(let i = 0; i < nbrCard; i++) {\n          let order = $($(card_char)[i]).css(\"order\");\n          let id_player = $($(card_char)[i]).attr(\"data-id\");\n          if(order == (parseInt(position) + 1)) {\n            // console.log(position);\n            // console.log(order);\n            // console.log($(card_char)[i]);\n            $($(card_char)[i]).css(\"order\", (parseInt(order) - 1));\n            listPosition[i] = [id_player, (parseInt(order) - 1)];\n          }else if(order == parseInt(position)){\n            $($(card_char)[i]).css(\"order\", (parseInt(order) + 1));\n            listPosition[i] = [id_player, (parseInt(order) + 1)];\n          }else {\n            listPosition[i] = [id_player, parseInt(order)];\n          }\n        }\n        let json = JSON.stringify(listPosition);\n          // console.log(json);\n          axios.defaults.xsrfCookieName = 'csrftoken';\n          axios.defaults.xsrfHeaderName = 'X-CSRFToken';\n  \n          axios.post(`https://ce-soir-c-est-jor.com:8000/api/users/updatePosition/` + json + \"/\" + id_party)\n          .then(res => {\n              // console.log(res);\n          })\n      }\n  }\n  \n  hoverArrow = (id_player) => {\n    $(\"#card_user_\" + id_player).addClass('no_clic');\n    var arrowLeft = document.getElementsByClassName('arrow_left');\n    var arrowRight = document.getElementsByClassName('arrow_right');\n    $(arrowLeft).on('mouseleave', function() {\n      $(\"#card_user_\" + id_player).removeClass('no_clic');\n    })\n    $(arrowRight).on('mouseleave', function() {\n      $(\"#card_user_\" + id_player).removeClass('no_clic');\n    })\n  }\n  \n\n  \n\n  // componentDidUpdate(prevProps, prevState, snapshot) {\n\n  //     // Update the component if parent state is updated\n  //     if(this.props.updateGroup !== prevProps.updateGroup || \n  //       this.state.updateGroupForStats !== prevState.updateGroupForStats) {\n  //       console.log(\"Updated !!\");\n  //       axios.defaults.xsrfCookieName = 'csrftoken';\n  //       axios.defaults.xsrfHeaderName = 'X-CSRFToken';\n\n  //       axios.get(`https://ce-soir-c-est-jor.com:8000/api/users/active` + \"/\" + this.props.id_party)\n  //       .then(res => {\n  //           let result = Object.values(res.data);\n  //           this.setState({ users: result });\n  //       })\n  //     }\n  //     console.log(\"updated\");\n  //     this.getScripts();\n  // }\n\n  componentDidMount() {\n    axios.defaults.xsrfCookieName = 'csrftoken'\n    axios.defaults.xsrfHeaderName = 'X-CSRFToken'\n\n    axios.get(`https://ce-soir-c-est-jor.com:8000/api/users/active` + \"/\" + this.props.id_party)\n      .then(res => {\n        let result = Object.values(res.data);\n        // console.log(result);\n        this.setState({ users: result });\n      })\n      console.log(\"mounted\");\n      // this.getScripts();\n  }\n\n  testFunction = () => {\n    \n    console.log(this.props.id_party);\n  }\n\n\n  \n\n\n    render() {\n\n        var users = this.getUsers();\n\n        return (\n            <div className='groupActif'>\n                {users.map((user, i) => {\n                return (\n                    <div id={\"card_user_\" + user.id_player} className=\"char_card\" key={i} style={{\"order\": i}} data-id={user.id_player} onClick={this.handleClick.bind(this.handleClick, user.id_player)}>\n                      <div onClick={this.clickArrowLeft.bind(this.clickArrowLeft, user.id_player)} onMouseEnter={this.hoverArrow.bind(this.hoverArrow, user.id_player)} className=\"arrow_left\">&#8592;</div>\n                      <div onClick={this.clickArrowRight.bind(this.clickArrowRight, user.id_player)} onMouseEnter={this.hoverArrow.bind(this.hoverArrow, user.id_player)} className=\"arrow_right\">&#8594;</div>\n                      <div className=\"card_box_img\"><img src={require(\"../assets/img/\"+user.Race+\".jpeg\")} alt={\"../assets/img/\"+user.Race+\".jpeg\"} /></div>\n                      <div className=\"char_name\">{user.Nom}</div>\n                      <div className=\"char_box_stats\">\n                        <div className=\"char_health\">{user.health}/{user.maxHealth}<span style={{\"width\": ((user.health * 100) / user.maxHealth) + \"%\"}} className=\"bg_health\"></span></div>\n                        <div className=\"char_mana\">{user.mana}/{user.maxMana}<span style={{\"width\": ((user.mana * 100) / user.maxMana) + \"%\"}} className=\"bg_mana\"></span></div>\n                      </div>\n                      <div className=\"char_box_caract\">\n                        <div className=\"char_physic\">{user.Physique}</div>\n                        <div className=\"char_mental\">{user.Mental}</div>\n                        <div className=\"char_social\">{user.Social}</div>\n                      </div>\n                    </div>\n                )})}\n                {/* <button style={{\"order\": (users.length)}} className=\"upTurn\"><span>&#8592;</span></button> */}\n\n          {users.length > 0 ? \n            <button onClick={this.upTurn} style={{\"order\": (users.length)}} className=\"upTurn\"><span>&#8592;</span></button>\n             :\n             <p className=\"empty_group\">Empty</p>\n          }\n\n\n          {this.state.displayDesc ? \n            <Description \n              displayDesc={this.state.displayDesc}\n              id_desc={this.state.id_desc}\n              users={this.state.users}\n              handlerGroup={this.handlerGroup}\n              id_party={this.props.id_party}\n            /> : null\n          }\n                \n            </div>\n        );\n    }\n  }\n\nexport default GroupActif;"]},"metadata":{},"sourceType":"module"}