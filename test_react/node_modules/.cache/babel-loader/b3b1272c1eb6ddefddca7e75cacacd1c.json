{"ast":null,"code":"import _defineProperty from\"/var/www/html/JOR/test_react/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/var/www/html/JOR/test_react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/var/www/html/JOR/test_react/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/var/www/html/JOR/test_react/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/var/www/html/JOR/test_react/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import FormValidator from'../validation/FormValidator';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FormStats=/*#__PURE__*/function(_Component){_inherits(FormStats,_Component);var _super=_createSuper(FormStats);function FormStats(props){var _this;_classCallCheck(this,FormStats);_this=_super.call(this,props);_this.handleInputChange=function(event){event.preventDefault();// console.log(this.props.health);\n_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.handleFormSubmit=function(event){event.preventDefault();// console.log(this.props.mana);\nvar validation=_this.validator.validate(_this.state);// console.log(this.props.id_desc);\n_this.setState({validation:validation});_this.submitted=true;if(validation.isValid){// console.log(\"Validated Stats Form !\");\naxios.defaults.xsrfCookieName='csrftoken';axios.defaults.xsrfHeaderName='X-CSRFToken';axios.post(\"https://ce-soir-c-est-jor.com:8000/api/user/update_stats/\"+_this.state.health+\"/\"+_this.state.maxHealth+\"/\"+_this.state.mana+\"/\"+_this.state.maxMana+\"/\"+_this.props.id_desc+\"/\"+_this.props.id_party).then(function(res){// console.log(res);\n}).then(function(res){_this.props.handlerStats();// Update the parent Description until Group is update \n});}};_this.validator=new FormValidator([{field:'health',method:'isEmpty',validWhen:false,message:'Enter health'},{field:'maxHealth',method:'isEmpty',validWhen:false,message:'Enter max health'},{field:'mana',method:'isEmpty',validWhen:false,message:'Enter mana'},{field:'maxMana',method:'isEmpty',validWhen:false,message:'Enter max mana'}]);_this.state={health:_this.props.health,maxHealth:_this.props.maxHealth,mana:_this.props.mana,maxMana:_this.props.maxMana,validation:_this.validator.valid()};_this.submitted=false;return _this;}_createClass(FormStats,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(props){this.setState({health:this.props.health,maxHealth:this.props.maxHealth,mana:this.props.mana,maxMana:this.props.maxMana});}},{key:\"render\",value:function render(){var validation=this.submitted?this.validator.validate(this.state):this.state.validation;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"container form_stats form\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"registrationForm\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Change stats\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"content_stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:validation.health.isInvalid?'has-error':null,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"health\",children:\"Health\"}),/*#__PURE__*/_jsx(\"input\",{defaultValue:this.props.health,type:\"integer\",className:\"form-control\",name:\"health\",onChange:this.handleInputChange}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"help-block\",children:validation.health.message})]}),/*#__PURE__*/_jsx(\"div\",{className:\"slash\",children:\"/\"}),/*#__PURE__*/_jsxs(\"div\",{className:validation.maxHealth.isInvalid?'has-error':null,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"maxHealth\",children:\"Max Health\"}),/*#__PURE__*/_jsx(\"input\",{defaultValue:this.props.maxHealth,type:\"integer\",className:\"form-control\",name:\"maxHealth\",onChange:this.handleInputChange}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"help-block\",children:validation.maxHealth.message})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content_stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:validation.mana.isInvalid?'has-error':null,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"mana\",children:\"Mana\"}),/*#__PURE__*/_jsx(\"input\",{defaultValue:this.props.mana,type:\"integer\",className:\"form-control\",name:\"mana\",onChange:this.handleInputChange}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"help-block\",children:validation.mana.message})]}),/*#__PURE__*/_jsx(\"div\",{className:\"slash\",children:\"/\"}),/*#__PURE__*/_jsxs(\"div\",{className:validation.maxMana.isInvalid?'has-error':null,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"maxMana\",children:\"Max Mana\"}),/*#__PURE__*/_jsx(\"input\",{defaultValue:this.props.maxMana,type:\"integer\",className:\"form-control\",name:\"maxMana\",onChange:this.handleInputChange}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"help-block\",children:validation.maxMana.message})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:this.handleFormSubmit,className:\"btn\",children:\" Change stats \"})]})})})})});}}]);return FormStats;}(Component);export default FormStats;","map":{"version":3,"sources":["/var/www/html/JOR/test_react/src/components/statsForm.js"],"names":["React","Component","FormValidator","axios","FormStats","props","handleInputChange","event","preventDefault","setState","target","name","value","handleFormSubmit","validation","validator","validate","state","submitted","isValid","defaults","xsrfCookieName","xsrfHeaderName","post","health","maxHealth","mana","maxMana","id_desc","id_party","then","res","handlerStats","field","method","validWhen","message","valid","isInvalid"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport FormValidator from '../validation/FormValidator';\nimport axios from 'axios';\n\n\nclass FormStats extends Component{\nconstructor(props){\nsuper(props);\nthis.validator = new FormValidator([{\n    field: 'health',\n    method: 'isEmpty',\n    validWhen: false,\n    message: 'Enter health'\n}, {\n    field: 'maxHealth',\n    method: 'isEmpty',\n    validWhen: false,\n    message: 'Enter max health'\n}, {\n    field: 'mana',\n    method: 'isEmpty',\n    validWhen: false,\n    message: 'Enter mana'\n}, \n{\n    field: 'maxMana',\n    method: 'isEmpty',\n    validWhen: false,\n    message: 'Enter max mana'\n}\n]);\n\nthis.state = {\nhealth: this.props.health,\nmaxHealth: this.props.maxHealth,\nmana: this.props.mana,\nmaxMana: this.props.maxMana,\nvalidation: this.validator.valid()\n}\nthis.submitted = false;\n}\n\ncomponentWillReceiveProps(props) {\n    this.setState({\n        health: this.props.health,\n        maxHealth: this.props.maxHealth,\n        mana: this.props.mana,\n        maxMana: this.props.maxMana\n    });\n}\n\n\n\nhandleInputChange = event => {\nevent.preventDefault();\n// console.log(this.props.health);\nthis.setState({\n[event.target.name]: event.target.value,\n});\n}\nhandleFormSubmit = event => {\nevent.preventDefault();\n// console.log(this.props.mana);\n\nconst validation = this.validator.validate(this.state);\n// console.log(this.props.id_desc);\nthis.setState({\nvalidation\n});\nthis.submitted = true;\nif(validation.isValid) {\n    // console.log(\"Validated Stats Form !\");\n\n    axios.defaults.xsrfCookieName = 'csrftoken';\n    axios.defaults.xsrfHeaderName = 'X-CSRFToken';\n\n    axios.post(`https://ce-soir-c-est-jor.com:8000/api/user/update_stats/` \n    + this.state.health + \"/\" \n    + this.state.maxHealth + \"/\" \n    + this.state.mana + \"/\"\n    + this.state.maxMana + \"/\"\n    + this.props.id_desc\n    + \"/\" + this.props.id_party)\n    .then(res => {\n        // console.log(res);\n    }).then(res => {\n        this.props.handlerStats();\n        // Update the parent Description until Group is update \n    })\n}\n}\nrender() {\nlet validation = this.submitted ?this.validator.validate(this.state) : this.state.validation\nreturn (\n<div>\n    <div className=\"container form_stats form\">\n        <div className=\"row\">\n            <div>\n                <form className=\"registrationForm\">\n                <h2>Change stats</h2>\n                <div className=\"content_stats\">\n                    <div className={validation.health.isInvalid ? 'has-error' : null}>\n                        <label htmlFor=\"health\">Health</label>\n                        <input defaultValue={this.props.health} type=\"integer\" className=\"form-control\" name=\"health\" onChange={this.handleInputChange} /> <span className=\"help-block\">{validation.health.message}</span> \n                    </div> \n                    <div className='slash'>/</div>\n                    <div className={validation.maxHealth.isInvalid ? 'has-error' : null}>\n                        <label htmlFor=\"maxHealth\">Max Health</label>\n                        <input defaultValue={this.props.maxHealth} type=\"integer\" className=\"form-control\" name=\"maxHealth\" onChange={this.handleInputChange} /> <span className=\"help-block\">{validation.maxHealth.message}</span> \n                    </div>\n                </div>\n                <div className=\"content_stats\">\n                    <div className={validation.mana.isInvalid ? 'has-error' : null}>\n                        <label htmlFor=\"mana\">Mana</label>\n                        <input defaultValue={this.props.mana} type=\"integer\" className=\"form-control\" name=\"mana\" onChange={this.handleInputChange} /> <span className=\"help-block\">{validation.mana.message}</span> \n                    </div> \n                    <div className='slash'>/</div>\n                    <div className={validation.maxMana.isInvalid ? 'has-error' : null}>\n                        <label htmlFor=\"maxMana\">Max Mana</label>\n                        <input defaultValue={this.props.maxMana} type=\"integer\" className=\"form-control\" name=\"maxMana\" onChange={this.handleInputChange} /> <span className=\"help-block\">{validation.maxMana.message}</span> \n                    </div>\n                </div>\n                    \n                    \n                <button onClick={this.handleFormSubmit} className=\"btn\"> Change stats </button>\n                </form>\n            </div>\n        </div>\n    </div>\n\n</div>\n)\n}\n}\nexport default FormStats;"]},"metadata":{},"sourceType":"module"}