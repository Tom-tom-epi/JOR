{"ast":null,"code":"import _defineProperty from\"/var/www/html/JOR/test_react/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/var/www/html/JOR/test_react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/var/www/html/JOR/test_react/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/var/www/html/JOR/test_react/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/var/www/html/JOR/test_react/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import FormValidator from'../validation/FormValidator';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FormCaract=/*#__PURE__*/function(_Component){_inherits(FormCaract,_Component);var _super=_createSuper(FormCaract);function FormCaract(props){var _this;_classCallCheck(this,FormCaract);_this=_super.call(this,props);_this.handleInputChange=function(event){event.preventDefault();_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.handleFormSubmit=function(event){event.preventDefault();// console.log(this.props.mental);\nvar validation=_this.validator.validate(_this.state);_this.setState({validation:validation});_this.submitted=true;if(validation.isValid){// console.log(\"Validated Caract Form !\");\naxios.defaults.xsrfCookieName='csrftoken';axios.defaults.xsrfHeaderName='X-CSRFToken';axios.post(\"https://ce-soir-c-est-jor.com/api/user/update_caract/\"+_this.state.physic+\"/\"+_this.state.mental+\"/\"+_this.state.social+\"/\"+_this.props.id_desc).then(function(res){// console.log(res);\n}).then(function(res){_this.props.handlerStats();// Update the parent Description until Group is update \n});}};_this.validator=new FormValidator([{field:'physic',method:'isEmpty',validWhen:false,message:'Enter physique'},{field:'mental',method:'isEmpty',validWhen:false,message:'Enter mental'},{field:'social',method:'isEmpty',validWhen:false,message:'Enter social'}]);_this.state={physic:_this.props.physic,mental:_this.props.mental,social:_this.props.social,validation:_this.validator.valid()};_this.submitted=false;return _this;}// componentDidUpdate(prevProps, prevState, snapshot) {\n//     if(this.props.currentUser !== prevProps.currentUser) {\n//         this.setState({\n//             physic: this.props.Physique,\n//             mental: this.props.Mental,\n//             social: this.props.Social\n//         });\n//     }\n// }\n_createClass(FormCaract,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(props){this.setState({physic:this.props.physic,mental:this.props.mental,social:this.props.social});}},{key:\"render\",value:function render(){var validation=this.submitted?this.validator.validate(this.state):this.state.validation;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"container form_caract form\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"registrationForm\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Change caract\"}),/*#__PURE__*/_jsxs(\"div\",{className:validation.physic.isInvalid?'has-error':null,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"physic\",children:\"Physique\"}),/*#__PURE__*/_jsx(\"input\",{defaultValue:this.props.physic,type:\"integer\",className:\"form-control\",name:\"physic\",onChange:this.handleInputChange}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"help-block\",children:validation.physic.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:validation.mental.isInvalid?'has-error':null,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"mental\",children:\"Mental\"}),/*#__PURE__*/_jsx(\"input\",{defaultValue:this.props.mental,type:\"integer\",className:\"form-control\",name:\"mental\",onChange:this.handleInputChange}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"help-block\",children:validation.mental.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:validation.social.isInvalid?'has-error':null,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"social\",children:\"Social\"}),/*#__PURE__*/_jsx(\"input\",{defaultValue:this.props.social,type:\"integer\",className:\"form-control\",name:\"social\",onChange:this.handleInputChange}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"help-block\",children:validation.social.message})]}),/*#__PURE__*/_jsx(\"button\",{onClick:this.handleFormSubmit,className:\"btn btn-primary\",children:\" Changer caract\\xE9ristiques \"})]})})})})});}}]);return FormCaract;}(Component);export default FormCaract;","map":{"version":3,"sources":["/var/www/html/JOR/test_react/src/components/caractForm.js"],"names":["React","Component","FormValidator","axios","FormCaract","props","handleInputChange","event","preventDefault","setState","target","name","value","handleFormSubmit","validation","validator","validate","state","submitted","isValid","defaults","xsrfCookieName","xsrfHeaderName","post","physic","mental","social","id_desc","then","res","handlerStats","field","method","validWhen","message","valid","isInvalid"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport FormValidator from '../validation/FormValidator';\nimport axios from 'axios';\n\nclass FormCaract extends Component{\nconstructor(props){\nsuper(props);\nthis.validator = new FormValidator([{\n    field: 'physic',\n    method: 'isEmpty',\n    validWhen: false,\n    message: 'Enter physique'\n}, {\n    field: 'mental',\n    method: 'isEmpty',\n    validWhen: false,\n    message: 'Enter mental'\n}, {\n    field: 'social',\n    method: 'isEmpty',\n    validWhen: false,\n    message: 'Enter social'\n}\n]);\n\nthis.state = {\nphysic: this.props.physic,\nmental: this.props.mental,\nsocial: this.props.social,\nvalidation: this.validator.valid()\n}\nthis.submitted = false;\n}\n\n// componentDidUpdate(prevProps, prevState, snapshot) {\n//     if(this.props.currentUser !== prevProps.currentUser) {\n//         this.setState({\n//             physic: this.props.Physique,\n//             mental: this.props.Mental,\n//             social: this.props.Social\n//         });\n//     }\n    \n// }\ncomponentWillReceiveProps(props) {\n    this.setState({\n        physic: this.props.physic,\n        mental: this.props.mental,\n        social: this.props.social\n    });\n}\n\nhandleInputChange = event => {\nevent.preventDefault();\nthis.setState({\n[event.target.name]: event.target.value,\n});\n}\nhandleFormSubmit = event => {\nevent.preventDefault();\n// console.log(this.props.mental);\nconst validation = this.validator.validate(this.state);\nthis.setState({\nvalidation\n});\nthis.submitted = true;\nif(validation.isValid) {\n    // console.log(\"Validated Caract Form !\");\n\n    axios.defaults.xsrfCookieName = 'csrftoken';\n    axios.defaults.xsrfHeaderName = 'X-CSRFToken';\n\n    axios.post(`https://ce-soir-c-est-jor.com/api/user/update_caract/` \n    + this.state.physic + \"/\" \n    + this.state.mental + \"/\" \n    + this.state.social + \"/\"\n    + this.props.id_desc)\n    .then(res => {\n        // console.log(res);\n    }).then(res => {\n        this.props.handlerStats();\n        // Update the parent Description until Group is update \n    })\n}\n}\nrender() {\nlet validation = this.submitted ?this.validator.validate(this.state) : this.state.validation\nreturn (\n<div>\n    <div className=\"container form_caract form\">\n        <div className=\"row\">\n            <div>\n                <form className=\"registrationForm\">\n                <h2>Change caract</h2>\n                    <div className={validation.physic.isInvalid ? 'has-error' : null}>\n                        <label htmlFor=\"physic\">Physique</label>\n                        <input defaultValue={this.props.physic} type=\"integer\" className=\"form-control\" name=\"physic\" onChange={this.handleInputChange} /> <span className=\"help-block\">{validation.physic.message}</span> \n                    </div>\n                    \n                    <div className={validation.mental.isInvalid ? 'has-error' : null}>\n                        <label htmlFor=\"mental\">Mental</label>\n                        <input defaultValue={this.props.mental} type=\"integer\" className=\"form-control\" name=\"mental\" onChange={this.handleInputChange} /> <span className=\"help-block\">{validation.mental.message}</span> \n                    </div>\n               \n                    <div className={validation.social.isInvalid ? 'has-error' : null}>\n                        <label htmlFor=\"social\">Social</label>\n                        <input defaultValue={this.props.social} type=\"integer\" className=\"form-control\" name=\"social\" onChange={this.handleInputChange} /> <span className=\"help-block\">{validation.social.message}</span> \n                    </div>\n                    \n                    \n                <button onClick={this.handleFormSubmit} className=\"btn btn-primary\"> Changer caract√©ristiques </button>\n                </form>\n            </div>\n        </div>\n    </div>\n\n</div>\n)\n}\n}\nexport default FormCaract;"]},"metadata":{},"sourceType":"module"}