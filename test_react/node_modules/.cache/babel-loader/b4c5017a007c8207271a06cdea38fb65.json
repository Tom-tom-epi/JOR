{"ast":null,"code":"var _jsxFileName = \"/var/www/html/test_react/test_react/src/components/groupActif.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Description from './description';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass GroupActif extends React.Component {\n  constructor() {\n    super();\n\n    this.getUsers = () => {\n      var listUsers = [];\n\n      for (let i = 0; i < this.state.users.length; i++) {\n        listUsers.push(this.state.users[i]);\n      }\n\n      return listUsers;\n    };\n\n    this.handleClick = id => {\n      // axios.defaults.xsrfCookieName = 'csrftoken'\n      // axios.defaults.xsrfHeaderName = 'X-CSRFToken'\n      // axios.get(`http://127.0.0.1:8000/user/getSpells/`+id)\n      //   .then(res => {\n      //     console.log(res);\n      //     //   Update self\n      //     //   And update the group (child component)\n      //     // this.setState({ update: !this.state.update });           \n      //     // this.setState({ updateGroup: !this.state.updateGroup });\n      // })\n      // axios.get(`http://127.0.0.1:8000/user/getInventory/`+id)\n      //   .then(res => {\n      //     console.log(res);\n      //     //   Update self\n      //     //   And update the group (child component)\n      //     // this.setState({ update: !this.state.update });           \n      //     // this.setState({ updateGroup: !this.state.updateGroup });\n      // })\n      // console.log(id !== this.state.id_desc);\n      // console.log(this.state.displayDesc == false);\n      if (id !== this.state.id_desc && this.state.displayDesc == false) {\n        // console.log(\"IN\");\n        this.setState({\n          id_desc: id\n        });\n        this.setState({\n          displayDesc: !this.state.displayDesc\n        });\n      } else if (id !== this.state.id_desc) {\n        this.setState({\n          id_desc: id\n        });\n      } else {\n        this.setState({\n          id_desc: 0\n        });\n        this.setState({\n          displayDesc: !this.state.displayDesc\n        });\n      }\n    };\n\n    this.state = {\n      users: [],\n      displayDesc: false,\n      id_desc: 0\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    // Update the component if parent state is updated\n    if (this.props.updateGroup !== prevProps.updateGroup) {\n      axios.defaults.xsrfCookieName = 'csrftoken';\n      axios.defaults.xsrfHeaderName = 'X-CSRFToken';\n      axios.get(`http://127.0.0.1:8000/users/active`).then(res => {\n        let result = Object.values(res.data);\n        this.setState({\n          users: result\n        });\n      });\n    }\n  }\n\n  componentDidMount() {\n    axios.defaults.xsrfCookieName = 'csrftoken';\n    axios.defaults.xsrfHeaderName = 'X-CSRFToken';\n    axios.get(`http://127.0.0.1:8000/users/active`).then(res => {\n      let result = Object.values(res.data);\n      console.log(result);\n      this.setState({\n        users: result\n      });\n    });\n  }\n\n  render() {\n    var users = this.getUsers();\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"groupActif\",\n      children: [users.map((user, i) => {\n        return (\n          /*#__PURE__*/\n          // <div className={\"card card_group \" + (user.active == 2 ? \"active\" : \"unactive\") } key={i} onClick={this.handleClick.bind(this.handleClick, user.id)}>\n          //     <div className=\"card-name\">{user.Nom}</div>\n          //     <div className=\"card-race\">{user.Race}</div>\n          //     <div className=\"card-spe\">{user.Sp√©cial}</div>\n          //     <div className=\"card-passif\">{user.Passif}</div>\n          //     <div className=\"card-malus\">{user.Malus}</div>\n          // </div>\n          _jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"\",\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 28\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 21\n          }, this)\n        );\n      }), this.state.displayDesc ? /*#__PURE__*/_jsxDEV(Description, {\n        displayDesc: this.state.displayDesc,\n        id_desc: this.state.id_desc\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default GroupActif;","map":{"version":3,"sources":["/var/www/html/test_react/test_react/src/components/groupActif.js"],"names":["React","axios","Description","GroupActif","Component","constructor","getUsers","listUsers","i","state","users","length","push","handleClick","id","id_desc","displayDesc","setState","componentDidUpdate","prevProps","prevState","snapshot","props","updateGroup","defaults","xsrfCookieName","xsrfHeaderName","get","then","res","result","Object","values","data","componentDidMount","console","log","render","map","user"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Description from './description';\n\n\nclass GroupActif extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n        users: [],\n        displayDesc: false,\n        id_desc: 0\n    };\n  }\n\n  getUsers = () => {\n    var listUsers = [];\n    for(let i = 0; i < this.state.users.length; i++) {\n     listUsers.push(this.state.users[i]);\n    }\n    return (\n      listUsers\n    )\n  };\n\n  handleClick = (id) => {\n    \n    // axios.defaults.xsrfCookieName = 'csrftoken'\n    // axios.defaults.xsrfHeaderName = 'X-CSRFToken'\n    // axios.get(`http://127.0.0.1:8000/user/getSpells/`+id)\n    //   .then(res => {\n    //     console.log(res);\n    //     //   Update self\n    //     //   And update the group (child component)\n    //     // this.setState({ update: !this.state.update });           \n    //     // this.setState({ updateGroup: !this.state.updateGroup });\n    // })\n    // axios.get(`http://127.0.0.1:8000/user/getInventory/`+id)\n    //   .then(res => {\n    //     console.log(res);\n    //     //   Update self\n    //     //   And update the group (child component)\n    //     // this.setState({ update: !this.state.update });           \n    //     // this.setState({ updateGroup: !this.state.updateGroup });\n    // })\n    // console.log(id !== this.state.id_desc);\n    // console.log(this.state.displayDesc == false);\n    if(id !== this.state.id_desc && this.state.displayDesc == false) {\n      // console.log(\"IN\");\n      this.setState({ id_desc: id });\n      this.setState({ displayDesc: !this.state.displayDesc });\n    }else if(id !== this.state.id_desc) {\n      this.setState({ id_desc: id });\n    }else {\n      this.setState({ id_desc: 0 });\n      this.setState({ displayDesc: !this.state.displayDesc });\n    }\n\n  };\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n\n      // Update the component if parent state is updated\n      if(this.props.updateGroup !== prevProps.updateGroup) {\n        axios.defaults.xsrfCookieName = 'csrftoken';\n        axios.defaults.xsrfHeaderName = 'X-CSRFToken';\n\n        axios.get(`http://127.0.0.1:8000/users/active`)\n        .then(res => {\n            let result = Object.values(res.data);\n            this.setState({ users: result });\n        })\n      }\n  }\n\n  componentDidMount() {\n    axios.defaults.xsrfCookieName = 'csrftoken'\n    axios.defaults.xsrfHeaderName = 'X-CSRFToken'\n\n    axios.get(`http://127.0.0.1:8000/users/active`)\n      .then(res => {\n        let result = Object.values(res.data);\n        console.log(result);\n        this.setState({ users: result });\n      })\n  }\n\n    render() {\n\n        var users = this.getUsers();\n\n        return (\n            <div className='groupActif'>\n                {users.map((user, i) => {\n                return (\n                    // <div className={\"card card_group \" + (user.active == 2 ? \"active\" : \"unactive\") } key={i} onClick={this.handleClick.bind(this.handleClick, user.id)}>\n                    //     <div className=\"card-name\">{user.Nom}</div>\n                    //     <div className=\"card-race\">{user.Race}</div>\n                    //     <div className=\"card-spe\">{user.Sp√©cial}</div>\n                    //     <div className=\"card-passif\">{user.Passif}</div>\n                    //     <div className=\"card-malus\">{user.Malus}</div>\n                    // </div>\n                    <div>\n                      <div><img src=\"\" alt=\"\" /></div>\n                      <div></div>\n                      <div>\n                        <div></div>\n                        <div></div>\n                      </div>\n                      <div>\n                        <div></div>\n                        <div></div>\n                        <div></div>\n                      </div>\n                    </div>\n                )})}\n\n\n          {this.state.displayDesc ? \n            <Description \n              displayDesc={this.state.displayDesc}\n              id_desc={this.state.id_desc}\n            /> : null\n          }\n                \n            </div>\n        );\n    }\n  }\n\nexport default GroupActif;"]},"metadata":{},"sourceType":"module"}