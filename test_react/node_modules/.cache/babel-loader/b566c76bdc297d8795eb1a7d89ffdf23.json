{"ast":null,"code":"import _objectSpread from\"/var/www/html/JOR/test_react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/var/www/html/JOR/test_react/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _classCallCheck from\"/var/www/html/JOR/test_react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/var/www/html/JOR/test_react/node_modules/@babel/runtime/helpers/esm/createClass.js\";import validator from'validator';var FormValidator=/*#__PURE__*/function(){function FormValidator(validations){_classCallCheck(this,FormValidator);this.validations=validations;}_createClass(FormValidator,[{key:\"validate\",value:function validate(state){var validation=this.valid();// for each validation rule\nthis.validations.forEach(function(rule){if(!validation[rule.field].isInvalid){var field_value=state[rule.field].toString();var args=rule.args||[];var validation_method=typeof rule.method==='string'?validator[rule.method]:rule.method;if(validation_method.apply(void 0,[field_value].concat(_toConsumableArray(args),[state]))!==rule.validWhen){validation[rule.field]={isInvalid:true,message:rule.message};validation.isValid=false;}}});return validation;}},{key:\"valid\",value:function valid(){var validation={};this.validations.map(function(rule){return validation[rule.field]={isInvalid:false,message:''};});return _objectSpread({isValid:true},validation);}}]);return FormValidator;}();export default FormValidator;","map":{"version":3,"sources":["/var/www/html/JOR/test_react/src/validation/FormValidator.js"],"names":["validator","FormValidator","validations","state","validation","valid","forEach","rule","field","isInvalid","field_value","toString","args","validation_method","method","validWhen","message","isValid","map"],"mappings":"6cAAA,MAAOA,CAAAA,SAAP,KAAsB,WAAtB,C,GAEMC,CAAAA,a,yBACF,uBAAYC,WAAZ,CAAyB,qCACrB,KAAKA,WAAL,CAAmBA,WAAnB,CACH,C,kDACD,kBAASC,KAAT,CAAgB,CACZ,GAAIC,CAAAA,UAAU,CAAG,KAAKC,KAAL,EAAjB,CACA;AACA,KAAKH,WAAL,CAAiBI,OAAjB,CAAyB,SAAAC,IAAI,CAAI,CAC7B,GAAG,CAACH,UAAU,CAACG,IAAI,CAACC,KAAN,CAAV,CAAuBC,SAA3B,CAAsC,CAClC,GAAMC,CAAAA,WAAW,CAAGP,KAAK,CAACI,IAAI,CAACC,KAAN,CAAL,CAAkBG,QAAlB,EAApB,CACA,GAAMC,CAAAA,IAAI,CAAGL,IAAI,CAACK,IAAL,EAAa,EAA1B,CACA,GAAMC,CAAAA,iBAAiB,CAAG,MAAON,CAAAA,IAAI,CAACO,MAAZ,GAAuB,QAAvB,CAAkCd,SAAS,CAACO,IAAI,CAACO,MAAN,CAA3C,CAA2DP,IAAI,CAACO,MAA1F,CACA,GAAGD,iBAAiB,MAAjB,SAAkBH,WAAlB,4BAAkCE,IAAlC,GAAwCT,KAAxC,MAAmDI,IAAI,CAACQ,SAA3D,CAAsE,CAClEX,UAAU,CAACG,IAAI,CAACC,KAAN,CAAV,CAAyB,CACrBC,SAAS,CAAE,IADU,CAErBO,OAAO,CAAET,IAAI,CAACS,OAFO,CAAzB,CAIAZ,UAAU,CAACa,OAAX,CAAqB,KAArB,CACH,CACJ,CACJ,CAbD,EAcA,MAAOb,CAAAA,UAAP,CACH,C,qBACD,gBAAQ,CACJ,GAAMA,CAAAA,UAAU,CAAG,EAAnB,CACA,KAAKF,WAAL,CAAiBgB,GAAjB,CAAqB,SAAAX,IAAI,QAAKH,CAAAA,UAAU,CAACG,IAAI,CAACC,KAAN,CAAV,CAAyB,CACnDC,SAAS,CAAE,KADwC,CAEnDO,OAAO,CAAE,EAF0C,CAA9B,EAAzB,EAIA,sBACIC,OAAO,CAAE,IADb,EAEOb,UAFP,EAIH,C,6BAEL,cAAeH,CAAAA,aAAf","sourcesContent":["import validator from 'validator';\n\nclass FormValidator {\n    constructor(validations) {\n        this.validations = validations;\n    }\n    validate(state) {\n        let validation = this.valid();\n        // for each validation rule\n        this.validations.forEach(rule => {\n            if(!validation[rule.field].isInvalid) {\n                const field_value = state[rule.field].toString();\n                const args = rule.args || [];\n                const validation_method = typeof rule.method === 'string' ? validator[rule.method] : rule.method\n                if(validation_method(field_value, ...args, state) !== rule.validWhen) {\n                    validation[rule.field] = {\n                        isInvalid: true,\n                        message: rule.message\n                    }\n                    validation.isValid = false;\n                }\n            }\n        });\n        return validation;\n    }\n    valid() {\n        const validation = {}\n        this.validations.map(rule => (validation[rule.field] = {\n            isInvalid: false,\n            message: ''\n        }));\n        return {\n            isValid: true,\n            ...validation\n        };\n    }\n}\nexport default FormValidator;"]},"metadata":{},"sourceType":"module"}